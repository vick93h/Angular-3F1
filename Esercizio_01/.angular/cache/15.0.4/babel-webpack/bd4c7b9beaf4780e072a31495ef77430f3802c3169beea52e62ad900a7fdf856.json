{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { persona } from \"../Model/persona\";\nimport { RestServiceService } from \"../services/rest-service.service\";\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nlet OperazioniCrudComponent = class OperazioniCrudComponent {\n  constructor(serviceRest, modalService) {\n    this.serviceRest = serviceRest;\n    this.modalService = modalService;\n    this.caricato = false;\n  }\n  onInsert(m) {\n    let id = this.serviceRest.areaCondivisa.arrayPersona[this.serviceRest.areaCondivisa.arrayPersona.length - 1].id;\n    this.p = new persona(id + 1, this.nome, this.cognome, this.mail, this.sesso, this.avatar, this.mestiere);\n    console.log(this.p);\n    this.caricato = false;\n    this.serviceRest.insertPersona(this.p).subscribe(() => {});\n    m.dismiss('Cross click');\n  }\n  onExit(m) {\n    this.caricato = false;\n    m.dismiss('Cross click');\n  }\n  ngAfterViewInit() {\n    console.log(\"sono in ng\");\n    this.modalService.open(this.modalRef);\n    this.caricato = true;\n    this.serviceRest.areaCondivisa.sel = this.caricato;\n  }\n  onFileSelected($event) {\n    const target = event.target;\n    if (target.files && target.files.length > 0) {\n      this.avatar = target.files[0].name;\n      this.avatar = './assets/image/' + this.avatar; //ricavo il nome dell' immagine e concateno la cartella asset per definire il path completo\n      console.log(this.avatar);\n      console.log(target.files[0].name);\n    }\n  }\n};\n__decorate([ViewChild('modale'), __metadata(\"design:type\", Object)], OperazioniCrudComponent.prototype, \"modalRef\", void 0);\nOperazioniCrudComponent = __decorate([Component({\n  selector: 'app-Insert',\n  templateUrl: './operazioni-crud.component.html',\n  styleUrls: ['./operazioni-crud.component.css']\n}), __metadata(\"design:paramtypes\", [RestServiceService, NgbModal])], OperazioniCrudComponent);\nexport { OperazioniCrudComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}